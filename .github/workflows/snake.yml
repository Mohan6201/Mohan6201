name: üêç Custom Contribution Snake

on:
  schedule:
    - cron: '0 0 * * *'   # daily
  workflow_dispatch:
  push:
    branches: [ master ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      # If you have a published CLI, you can call it with npx:
      - name: Generate SVG via npx
        run: |
          npx @platane/snk-cli Mohan6201 \
            --format svg \
            --snake-color "#FF4500" \
            --bg-color "transparent" \
            --day-labels Mon,Tue,Wed,Thu,Fri,Sat,Sun \
            --month-labels Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec \
            --output dist/github-snake.svg

      - name: Deploy to GitHub Pages
        uses: crazy-max/ghaction-github-pages@v3.1.0
        with:
          target_branch: output
          build_dir: dist
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
